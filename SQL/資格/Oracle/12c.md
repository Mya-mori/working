# 復習

1.　FOREIGN KEY制約
親表として指定された表は、参照されている行がない場合でも削除できなくなります。親表を削除する場合は、参照している子表を先に削除しなければなりません。

2.　UNIQUE制約
重複禁止で, 定義されている列にNULL値を格納できる

3.　FOREIGN KEY制約
主キーもしくは一意キーの列の値かNULL値を格納できる

4.　TRIM関数
引数で指定された文字列の前後にある削除文字を取り除いた文字列を返す

```sql
　TRIM([LEADING | TRAILING | BOTH] [削除文字] FROM 文字列)
or
　TRIM(文字列)
```

※ LEADING,TRAILING,BOTHを省略した場合は、文字列の前後の削除文字が取り除かれます。
・LEADING：先頭の削除文字を取り除く
・TRAILING：末尾の削除文字を取り除く
・BOTH：前後の削除文字を取り除く（デフォルト）
※ 削除文字には任意の1文字を指定できますが、文字列は指定できません

5.　検索

```sql
WHERE prod_name LIKE q'(%HITSW_%'s%)' ESCAPE 'W';
-- ここではエスケープ文字として「W」を指定していますので、「W」の直後のワイルドカードは通常のリテラルとして扱われます。
```

```sql
WHERE prod_name LIKE '%HITSW_%''s%' ESCAPE 'W';
-- ここではエスケープ文字として「W」を指定していますので、「W」の直後のワイルドカードは通常のリテラルとして扱われます。
```

- 文字パターンには、任意の1文字と一致する「_」や、0文字以上の任意の文字列と一致する「%」といった、ワイルドカードを利用できます

6.　データ型
VARCHAR2型はデータ長の省略ができないため、エラーとなります

7.　抽出

```sql
SELECT
    SUBSTR(INITCAP(name), 1, 2) || REPLACE(startdate, '-') "Code"
FROM
    prod WHERE name IS NOT NULL;
```

- SUBSTR(文字列, m[, n])
文字列のm番目からn文字分の文字列を返す

- REPLACE(文字列, 変更前文字列 [, 変更後文字列])
変更後文字列が省略された場合は、文字列から変更前文字列を削除した文字列を返す

- INITCAP(文字列)
先頭の単語を大文字にする. 2文字目以降は小文字にする.

